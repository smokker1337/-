## Практика

## 1. Обзор проекта

Проект создан в процессе прохождения учебной практики и направлен на автоматизацию управления продукцией мебельного предприятия. Разработка основана на трехуровневой архитектуре, которая включает хранилище данных, серверную логику и пользовательский интерфейс..


## 2. Выполненные требования (по заданиям)

Проект полностью покрывает функциональные требования, изложенные в техническом задании. 

## 3. Структура репозитория

```
practika/
├── README.md                   # Текущий файл
├── app.py                      # Код бэкенда (FastAPI) и логика расчетов
├── import_csv.py               # Скрипт для подготовки данных к импорту
├── run_app.py                  # Скрипт для запуска БД, API и UI
├── ui_streamlit.py             # Код фронтенда (Streamlit)
├── schema.sql                  # Скрипт создания структуры базы данных в PgAdmin
├── er.pdf                      # Диаграмма сущность-связь (ERD)
├── in_xlsx/                    # Исходные файлы с данными (*_import.xlsx)
└── out_csv/                    # Подготовленные CSV-файлы для импорта
```

## 4. Инструкция по запуску и взаимодействию

Для запуска проекта необходимо иметь установленный **Python 3.10+** и **PostgreSQL**.

### Подготовка окружения

1.  **Настройка базы данных:**
    *   Убедитесь, что у вас запущен сервер PostgreSQL.
    *   Создайте базу данных (например, `practik_db`).
    *   **Важно:** Обновите строку подключения к БД в файле `app.py` 
        ```python
        DATABASE_URL = "postgresql+psycopg2://<user>:<password>@<host>:<port>/<db_name>"
        ```

### 4.2. Запуск проекта

Запуск всего проекта (создание схемы БД, импорт данных, запуск бэкенда и фронтенда) осуществляется с помощью скрипта `run_app.py`.

```bash
python run_app.py
```

Этот скрипт выполняет следующие шаги:
1.  **Создание схемы БД:**  `schema.sql`.
2.  **Импорт данных:**  `import_csv.py`
3.  **Запуск Бэкенда (API):** Запускает `app.py` на порту `2281`.
4.  **Запуск Фронтенда (UI):** Запускает `ui_streamlit.py` на порту `8501`.

### 4.3. Взаимодействие с системой

После успешного запуска:

*   **Пользовательский интерфейс (UI):**
    Откройте в браузере: `http://localhost:8501`
    Здесь вы можете просматривать, добавлять и редактировать продукцию, а также просматривать информацию о цехах.

*   **Документация API (Swagger UI):**
    Откройте в браузере: `http://localhost:2281/docs`
    Здесь вы можете ознакомиться со всеми доступными эндпоинтами бэкенда и протестировать их.
    *   **CRUD-операции:** `/products`
    *   **Расчет времени:** `/products/{product_id}/total-time`
    *   **Расчет сырья:** `/materials/calc`
